/*
*  Graphing library for rtcscope.js
*  Copyright (c) 2015. All Rights Reserved.
*  Use of this source code is governed by a BSD-style license
*  that can be found in the LICENSE file in the root of the source
*  tree.
*/
function getRandomColor(){for(var l="0123456789ABCDEF".split(""),t="#",a=0;6>a;a++)t+=l[Math.floor(16*Math.random())];return t}function gen_dataset(l,t){var a={label:t,fillColor:getRandomColor(),strokeColor:getRandomColor(),pointColor:getRandomColor(),pointStrokeColor:"#fff",pointHighlightFill:"#fff",pointHighlightStroke:"rgba(151,187,205,1)",title:t,data:l.mapProperty("mean")};return a}function gen_label(l){return label_time=l.mapProperty("time")}function get_data(l){var t={};return $.ajax({url:"http://api.rtcscope.io/v1/stats/?type="+l,type:"GET",dataType:"json",async:!1,success:function(l){t=l}}),t}function set_linechartdata(l){var t=[],a=[],n=0;for(var e in l)id_set_map[e]=n,a=gen_label(l[e]),t.push(gen_dataset(l[e],e)),n++;var r={labels:a,datasets:t};return r}function set_linechartdata_update(l){var t=[],a=[];for(var n in l)a=gen_label(l[n]),t.push(gen_dataset(l[n],n));var e={labels:a,datasets:t};return e}function update_linechartdata(l){var t={},a=get_data(l),n=set_linechartdata_update(a);n.labels=n.labels.slice(Math.max(n.labels.length-3,1));var e=Object.keys(a);for(i=0;i<e.length;i++)for(t[e[i]]={},n.datasets[i].data=n.datasets[i].data.slice(Math.max(n.datasets[i].data.length-3,1)),j=0;j<n.datasets[i].data.length;j++){var r=t[e[i]],o=n.labels[j],u=[n.datasets[i].data[j]];r[o]=u}return t}function gen_dataset_member(l){var t={label:l,fillColor:getRandomColor(),strokeColor:getRandomColor(),pointColor:getRandomColor(),pointStrokeColor:"#fff",pointHighlightFill:"#fff",pointHighlightStroke:"rgba(151,187,205,1)",title:l,data:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null]};return t}Array.prototype.mapProperty=function(l){return this.map(function(t){return t[l]})};var label_time=[],id_set_map={};
